@model DebtorSearch.Models.DebtorSearchViewModel
@{
    ViewBag.Title = "Search";
}

@using (Html.BeginForm("Search", "Search", FormMethod.Post, new { @class = "form-horizontal", role = "form", autocomplete = "off" }))
{
<ng-form ng-hide="Model.DebtorSearchViewModelList != null">

    <div class="form-group">
        @Html.LabelFor(m => m.IdNumber, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="IdNumber" name="IdNumber" type="text" value="" ng-model="IdNumber">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.surname, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="surname" name="surname" type="text" value="" ng-model="surname">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Name, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="Name" name="Name" type="text" value="" ng-model="Name">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.ContactNo, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="ContactNo" name="ContactNo" type="text" value="" ng-model="ContactNo">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.AccountNumber, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="AccountNumber" name="AccountNumber" type="text" value="" ng-model="AccountNumber">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.ClientRef, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="ClientRef" name="ClientRef" type="text" value="" ng-model="ClientRef">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.EmailAddres, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="EmailAddres" name="EmailAddres" type="text" value="" ng-model="EmailAddres">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Address1, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @Html.TextBoxFor(m => m.Address1, new { @class = "form-control" })
            @*<input class="form-control" id="Address1" name="Address1" type="text" value="" ng-model="Address1">*@
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.VatNo, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="VatNo" name="VatNo" type="text" value="" ng-model="VatNo">
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.CompanyReg, new { @class = "col-md-2 control-label" })
        <div class="col-md-8">
            @*@Html.TextBoxFor(m => m.Email, new { @class = "form-control" })*@
            <input class="form-control" id="CompanyReg" name="CompanyReg" type="text" value="" ng-model="CompanyReg">
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-success" value="Search" onclick="showLoader()" />
            <input type="button" class="btn btn-primary" value="Back" onclick="history.go(-1)" />
            <input type="reset" class="btn btn-default" value="Clear" />
        </div>
    </div>
</ng-form>

    if (Model != null)
    {
        if (Model.DebtorSearchViewModelList != null)
        {

            <table id="debtors" class="table table-hover table-condensed table-striped">
                <thead class="levelOne">
                    <tr>
                        <th>Account No.</th>

                        <th>Surname</th>
                        <th>Name</th>
                        <th>Contact</th>
                        <th>Email Address</th>
                        <th>ID No.</th>
                        <th>Address</th>
                        <th>Client</th>
                        <th>Client Ref.</th>


                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.DebtorSearchViewModelList)
                    {
                    <tr class="table-hover">
                        <td>@item.AccountNumber</td>

                        <td>@item.surname</td>
                        <td>@item.Name</td>
                        <td>@item.ContactNo</td>
                        <td>@item.EmailAddres</td>
                        <td>@item.IdNumber</td>
                        <td>@item.Address1 , @item.Address2 , @item.Code</td>
                        <td>@item.ClientName</td>
                        <td>@item.ClientRef</td>

                    </tr>

                    }
                </tbody>


            </table>

          
        }

    }


}
@section scripts
    {
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js">
    </script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.3.1/js/dataTables.buttons.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.3.1/css/buttons.dataTables.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.3.1/js/buttons.html5.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            

            //$.fn.dataTable.Buttons.defaults.dom.button.className = 'btn btn-sm btn-success';
            var table = $('#debtors').DataTable({
                //lrtp, lfrtip, Bfrtip
                dom: 'lfrtip',
                "paging": true,
                "ordering": false,
                "info": true,
                "lengthChange": false,
                "pageLength": 10,
                "searching": false,

                buttons: [
                    {

                    }
                ],



            });


        });

        function showLoader() {
            swal({
                title: "Please Wait",
                text: "Searching...",
                type: "info",
                showLoaderOnConfirm: false,
                allowOutsideClick: false

            });

            swal.showLoading()

        }

         
    </script>


}